<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envelope Calculator</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lucide { width: 1em; height: 1em; display: inline-block; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide icons as SVG components
        const Calculator = ({ size = 24, className = "" }) => (
            <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect width="16" height="20" x="4" y="2" rx="2"/>
                <line x1="8" x2="16" y1="6" y2="6"/>
                <line x1="16" x2="16" y1="14" y2="18"/>
                <path d="m16 10-4-4-4 4"/>
            </svg>
        );

        const Ruler = ({ size = 24, className = "" }) => (
            <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"/>
                <path d="m14.5 12.5 2-2"/>
                <path d="m11.5 9.5 2-2"/>
                <path d="m8.5 6.5 2-2"/>
                <path d="m17.5 15.5 2-2"/>
            </svg>
        );

        const Mail = ({ size = 24, className = "" }) => (
            <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect width="20" height="16" x="2" y="4" rx="2"/>
                <path d="m22 7-10 5L2 7"/>
            </svg>
        );

        const EnvelopeCalculator = () => {
            const [cardWidth, setCardWidth] = useState('');
            const [cardHeight, setCardHeight] = useState('');
            const [unit, setUnit] = useState('cm');
            const [results, setResults] = useState(null);

            const calculateEnvelope = () => {
                if (!cardWidth || !cardHeight || cardWidth <= 0 || cardHeight <= 0) {
                    setResults(null);
                    return;
                }

                const width = parseFloat(cardWidth);
                const height = parseFloat(cardHeight);

                const paperWidth = width + 0.5;
                const paperHeight = height + 1.0;
                const scoreWidth = width + 0.25;
                const scoreHeight = height + 0.25;

                setResults({
                    paperWidth: paperWidth.toFixed(2),
                    paperHeight: paperHeight.toFixed(2),
                    scoreWidth: scoreWidth.toFixed(2),
                    scoreHeight: scoreHeight.toFixed(2),
                    unit: unit
                });
            };

            useEffect(() => {
                calculateEnvelope();
            }, [cardWidth, cardHeight, unit]);

            const convertUnits = (value, fromUnit, toUnit) => {
                if (fromUnit === toUnit) return value;
                if (fromUnit === 'cm' && toUnit === 'in') return (value / 2.54).toFixed(2);
                if (fromUnit === 'in' && toUnit === 'cm') return (value * 2.54).toFixed(2);
                return value;
            };

            return (
                <div className="max-w-md mx-auto bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen p-4">
                    <div className="bg-white rounded-xl shadow-lg p-6 mt-8">
                        <div className="text-center mb-6">
                            <div className="bg-blue-100 rounded-full p-3 w-16 h-16 mx-auto mb-3 flex items-center justify-center">
                                <Mail size={32} className="text-blue-600" />
                            </div>
                            <h1 className="text-2xl font-bold text-gray-800">Envelope Calculator</h1>
                            <p className="text-gray-600 text-sm mt-1">Calcola le misure per envelope punch board</p>
                        </div>

                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Unità di misura</label>
                                <div className="flex rounded-lg border border-gray-200 overflow-hidden">
                                    <button
                                        onClick={() => setUnit('cm')}
                                        className={`flex-1 py-2 px-4 text-sm font-medium ${
                                            unit === 'cm' 
                                                ? 'bg-blue-600 text-white' 
                                                : 'bg-white text-gray-700 hover:bg-gray-50'
                                        }`}
                                    >
                                        Centimetri
                                    </button>
                                    <button
                                        onClick={() => setUnit('in')}
                                        className={`flex-1 py-2 px-4 text-sm font-medium ${
                                            unit === 'in' 
                                                ? 'bg-blue-600 text-white' 
                                                : 'bg-white text-gray-700 hover:bg-gray-50'
                                        }`}
                                    >
                                        Pollici
                                    </button>
                                </div>
                            </div>

                            <div className="bg-gray-50 rounded-lg p-4">
                                <h3 className="font-semibold text-gray-800 mb-3 flex items-center">
                                    <Ruler className="mr-2" size={18} />
                                    Card Size
                                </h3>
                                <div className="grid grid-cols-2 gap-3">
                                    <div>
                                        <label className="block text-sm text-gray-600 mb-1">Larghezza</label>
                                        <input
                                            type="number"
                                            step="0.1"
                                            value={cardWidth}
                                            onChange={(e) => setCardWidth(e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                            placeholder="0.0"
                                        />
                                        <span className="text-xs text-gray-500">{unit}</span>
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-600 mb-1">Altezza</label>
                                        <input
                                            type="number"
                                            step="0.1"
                                            value={cardHeight}
                                            onChange={(e) => setCardHeight(e.target.value)}
                                            className="w-full px-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                            placeholder="0.0"
                                        />
                                        <span className="text-xs text-gray-500">{unit}</span>
                                    </div>
                                </div>
                            </div>

                            {results && (
                                <div className="bg-green-50 rounded-lg p-4 border border-green-200">
                                    <h3 className="font-semibold text-green-800 mb-3 flex items-center">
                                        <Calculator className="mr-2" size={18} />
                                        Risultati
                                    </h3>
                                    
                                    <div className="space-y-3">
                                        <div className="bg-white rounded-md p-3">
                                            <h4 className="font-medium text-gray-800 mb-2">Paper Size</h4>
                                            <div className="grid grid-cols-2 gap-2 text-sm">
                                                <div>
                                                    <span className="text-gray-600">Larghezza:</span>
                                                    <div className="font-semibold">{results.paperWidth} {results.unit}</div>
                                                    <div className="text-xs text-gray-500">
                                                        ({convertUnits(results.paperWidth, results.unit, results.unit === 'cm' ? 'in' : 'cm')} {results.unit === 'cm' ? 'in' : 'cm'})
                                                    </div>
                                                </div>
                                                <div>
                                                    <span className="text-gray-600">Altezza:</span>
                                                    <div className="font-semibold">{results.paperHeight} {results.unit}</div>
                                                    <div className="text-xs text-gray-500">
                                                        ({convertUnits(results.paperHeight, results.unit, results.unit === 'cm' ? 'in' : 'cm')} {results.unit === 'cm' ? 'in' : 'cm'})
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded-md p-3">
                                            <h4 className="font-medium text-gray-800 mb-2">Score Lines</h4>
                                            <div className="grid grid-cols-2 gap-2 text-sm">
                                                <div>
                                                    <span className="text-gray-600">Larghezza:</span>
                                                    <div className="font-semibold">{results.scoreWidth} {results.unit}</div>
                                                    <div className="text-xs text-gray-500">
                                                        ({convertUnits(results.scoreWidth, results.unit, results.unit === 'cm' ? 'in' : 'cm')} {results.unit === 'cm' ? 'in' : 'cm'})
                                                    </div>
                                                </div>
                                                <div>
                                                    <span className="text-gray-600">Altezza:</span>
                                                    <div className="font-semibold">{results.scoreHeight} {results.unit}</div>
                                                    <div className="text-xs text-gray-500">
                                                        ({convertUnits(results.scoreHeight, results.unit, results.unit === 'cm' ? 'in' : 'cm')} {results.unit === 'cm' ? 'in' : 'cm'})
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {!results && cardWidth && cardHeight && (
                                <div className="text-center py-4">
                                    <p className="text-gray-500">Inserisci misure valide per vedere i risultati</p>
                                </div>
                            )}
                        </div>

                        <div className="mt-6 p-3 bg-blue-50 rounded-lg">
                            <p className="text-xs text-blue-700">
                                <strong>Nota:</strong> Le misure calcolate includono margini standard per la creazione della busta. 
                                Paper Size è la dimensione del foglio necessario, Score Lines indica dove fare le pieghe.
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<EnvelopeCalculator />, document.getElementById('root'));
    </script>
</body>
</html>